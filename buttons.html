<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All The Fishes</title>
 
    <script src ="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.1.3/pixi.min.js"></script>
</head>
<body>
 
<script>
 
 
//the App
const app = new PIXI.Application({
    width: 640,
    height: 480,
    backgroundColor:0x000000
});
 
//Give us the view
document.body.appendChild(app.view);

  
function makeButton(){

    //build a container 
    let ourButton = new PIXI.Container();
        ourButton.interactive = true;

    let buttonBody = new PIXI.Graphics();
        buttonBody.beginFill(0xEEEEEE);
        buttonBody.drawRect(0, 0, 200, 100);
        ourButton.addChild(buttonBody);


    let buttonText = new PIXI.Text('Button Text ');
        buttonText.anchor.set(.5, .5);
        buttonText.x = buttonBody.width/2;
        buttonText.y = buttonBody.height/2;
        ourButton.addChild(buttonText);


    ourButton.on("pointertap",(e) => {
        console.log(e);
        let color = 0xFFFFFF * Math.random();
      //  buttonBody.tint = color;

    });

    //hover listeners
    ourButton.on('pointerover', function(e){
        ourButton.alpha = 0.7;
    });

    ourButton.on('pointerout', function(e){
        ourButton.alpha = 1.0;
    });

    //draggable event listeners 
    ourButton.dragging = false;
    offsetX = 0;
    offsetY = 0;
    
    ourButton.on("pointerdown", function (e) {
        ourButton.dragging = true;
        offsetX = ourButton.x - e.data.global.x;
        offsetY = ourButton.y - e.data.global.y;
    });

     
    ourButton.on("pointermove", function (e) {
        if(ourButton.dragging){
        console.log(e);
        ourButton.x = e.data.global.x - ourButton.width/2;
        ourButton.y = e.data.global.y - ourButton.height/2;
        
    }
    });
    ourButton.on('pointerup', function (e) {
        ourButton.dragging = false;
    })


    //make toggle 
    function makeToggle(){

        let myButton = makeButton();
        myButton.isOn = false;

        myButton.body.tint = 0xFF0000;

        myButton.on('pointertap', () => {

            myButton.isOn = !myButton.isOn;

            if (myButton.isOn) myButton.body.tint = 0x00FF00;
            else myButton.body.tint = 0xFF0000;
        })
    }



    function makeSlider(){
//container

        let ourButton = new PIXI.Container();
        ourButton.interactive = true ;

        //value from 0.0 to 1.0
        ourButton.value = 0;

        //the track 
        let theTrack = new PIXI.Graphics();
        theTrack.beginFill(0xCCCCCC);
        theTrack.drawRect(0, -10, 300, 20);
     

        ourButton.addChild(theTrack);
    }



  return ourButton;

}
let 
  /*let toggle = makeToggle();
     toggle.y = 200;
     app.stage.addChild(toggle);



let button = makeButton();
button.x = 100;
button.y =50;

app.stage.addChild(button);

let button2 = makeButton();
button2.x = 100;
button2.y = 300;
button2.label.text = "other button";
app.stage.addChild(button2);

*/
 
</script>
   
</body>
</html>
